<!DOCTYPE html>
<html>
  <head>
    <title>Product Evaluation Experiment</title>
    <script src="https://unpkg.com/jspsych"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-multi-choice"></script>
    <script src="https://unpkg.com/@jspsych/plugin-preload"></script>
  </head>
<body></body>
  <script>
  document.addEventListener('DOMContentLoaded', function() {
    // Generate trials
    let trials = [];
    for (let i = 0; i < 2000; i++) {
      let price = Math.floor(Math.random() * (2000 - 200 + 1)) + 200;
      let rating = Math.floor(Math.random() * 5) + 1;
  
      let trial = {
        type: 'survey-multi-choice',
        questions: [
          {prompt: `The product costs $${price}. Is it expensive?`, options: ['Yes', 'No', 'Don’t know'], required: true},
          {prompt: `The product has a rating of ${rating}. Is it high-rated?`, options: ['Yes', 'No', 'Don’t know'], required: true},
          {prompt: 'Considering its price and rating, is it a good purchase?', options: ['Yes', 'No', 'Don’t know'], required: true}
        ],
        preamble: `<img src="icon.png" alt="Product Icon">`
      };
  
      trials.push(trial);
      }
    initJsPsych({
      timeline: trials,
      on_finish: function() {
        jsPsych.data.get().localSave('csv','mydata.csv');
      }
    });  
 });

  </script>
</html>
